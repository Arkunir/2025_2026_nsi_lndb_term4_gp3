<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Reproduction Betclic – Version Foot (transactions fictives)</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      margin:0;
      background:#070707;
      color: #fff;
    }

    :root{
      --red:#E30613;
      --dark:#121212;
      --muted:#6b6b6b;
      --bg:#0f1113;
      --card:#151617;
      --white:#ffffff;
      --gain:#1db954;
      --glass: rgba(255,255,255,0.03);
      font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    }
    *{box-sizing:border-box}
    body{margin:0;background:linear-gradient(180deg,var(--bg),#071014);color:var(--white);min-height:100vh}
    header{display:flex;align-items:center;justify-content:space-between;padding:18px 24px;background:transparent}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:46px;height:46px;border-radius:8px;background:var(--red);display:flex;align-items:center;justify-content:center;font-weight:700}
    nav{display:flex;gap:18px;align-items:center}
    nav a{color:rgba(255,255,255,0.9);text-decoration:none;font-weight:600}

    .container{max-width:1200px;margin:18px auto;padding:0 18px}
    .top{display:flex;gap:18px;align-items:flex-start}

    h1 {
      margin-bottom:10px;
      color:#fff;
    }

    .solde {
      font-size:18px;
      padding:15px;
      background:#222;
      border-radius:8px;
      margin-bottom:20px;
    }

    button {
      background:#E30613;
      color:#fff;
      border:none;
      padding:10px 20px;
      border-radius:8px;
      cursor:pointer;
      font-weight:bold;
      transition:0.3s;
    }

    button:hover {
      background:#ff3b3b;
    }

    table {
      width:100%;
      border-collapse: collapse;
      margin-top:20px;
    }

    th, td {
      padding:10px;
      border-bottom:1px solid #333;
      text-align:left;
    }

    th {
      background:#E30613;
      color:#fff;
    }

    td.gain {
      color: #00ff00; /* vert pour gains */
      font-weight:bold;
    }

  </style>
</head>
<body>

  <header>
    <div class="brand container" style="max-width:1200px">
      <div style="display:flex;align-items:center;gap:12px">
        <div class="logo">BF</div>
        <div>
          <div style="font-weight:700">BetFoot</div>
          <div style="font-size:12px;color:var(--muted)">Reproduction Betclic — Version Foot</div>
        </div>
      </div>
      <nav>
        <a href="interface.html">Accueil</a>
        <a href="live.html">Matchs en direct</a>
        <a href="paris.html">Paris</a>
        <a href="resultats.html">Résultats</a>
        <a href="compte.html">Mon compte</a>
      </nav>
    </div>
  </header>
  

<div class="container">
  <h1>Espace Mon compte</h1>
  <div class="solde">Solde fictif : <span id="solde">1000</span> crédits</div>
  <button onclick="recharger()">Recharger 500 crédits fictifs</button>

  <h2>Historique des paris</h2>
  <table id="historique">
    <tr>
      <th>Match</th>
      <th>Mise</th>
      <th>Gain potentiel</th>
    </tr>
    <!-- Exemple de ligne -->
    <tr>
      <td>France vs Espagne</td>
      <td>100</td>
      <td class="gain">185</td>
    </tr>
    <tr>
      <td>Brésil vs Allemagne</td>
      <td>50</td>
      <td class="gain">95</td>
    </tr>
  </table>
</div>

<script>
  let solde = localStorage.getItem('userBalance') !== null 
    ? Number(localStorage.getItem('userBalance')) 
    : 1000;

    function recharger() {
    solde += 500;
    document.getElementById('solde').textContent = solde;

    // Mettre à jour le solde dans localStorage
    localStorage.setItem('userBalance', solde);

    alert("500 crédits fictifs ajoutés !");
}
</script>

<!-- Encadré Admin / Panneau Admin -->
<div class="admin-box" id="adminBox">
    <h2>Espace Administrateur</h2>
    <form id="adminForm">
      <label for="adminUser">Identifiant :</label>
      <input type="text" id="adminUser" placeholder=" " required>
      
      <label for="adminPass">Mot de passe :</label>
      <input type="password" id="adminPass" placeholder=" " required>
      
      <button type="submit">Se connecter</button>
    </form>
    <div id="adminMessage" style="margin-top:10px;color:#ff3b3b"></div>
  </div>
  
  <div class="admin-panel" id="adminPanel" style="display:none;">
    <h2>Tableau de bord Admin</h2>
    
    <!-- Modifier le solde -->
    <div style="margin-bottom:15px;">
      <label for="adminBalance">Modifier le solde :</label>
      <input type="number" id="adminBalance" min="0">
      <button onclick="updateBalance()">Mettre à jour</button>
    </div>

    <!-- Saisie des scores officiels -->
    <div style="margin-bottom:15px;">
      <label for="matchSelect">Sélectionner le match :</label>
      <select id="matchSelect">
        <option value="m1">France vs Brésil</option>
        <option value="m2">Argentine vs Portugal</option>
        <option value="m3">Espagne vs Allemagne</option>
        <option value="m4">Italie vs Pays-Bas</option>
      </select>
    </div>
    <div style="margin-bottom:15px;">
      <label for="finalScore">Score officiel :</label>
      <input type="text" id="finalScore" placeholder="ex: 2-1">
      <button onclick="setFinalScore()">Enregistrer score</button>
    </div>
    
    <!-- Historique des paris -->
    <div style="margin-bottom:15px;">
      <h3>Historique des paris</h3>
      <div id="adminHistory"></div>
    </div>
    
    <button onclick="logoutAdmin()" style="background:#b0050f; color:#fff; padding:5px 10px; border:none; border-radius:5px;">Se déconnecter</button>
  </div>
  
  <style>
  .admin-box, .admin-panel {
    background-color: #1a1a1a;
    color: #fff;
    border: 2px solid #E30613;
    padding: 20px;
    width: 400px;
    margin: 30px auto;
    border-radius: 10px;
    text-align: center;
  }
  .admin-box input, .admin-panel input, .admin-panel select {
    width: 70%;
    padding: 5px;
    margin-right: 10px;
    margin-bottom: 10px;
    border-radius: 5px;
    border: 1px solid #ccc;
  }
  .admin-box button, .admin-panel button {
    background-color: #E30613;
    color: white;
    padding: 5px 10px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-weight: bold;
  }
  .admin-box button:hover, .admin-panel button:hover {
    background-color: #b0050f;
  }
  .admin-panel .remove-btn {
    background: #ff3b3b;
    margin-top:5px;
  }
  </style>
  
  <script>
  // variable globale pour le solde
  let balance = localStorage.getItem('userBalance') !== null 
        ? Number(localStorage.getItem('userBalance')) 
        : 1000; // Valeur par défaut si aucune donnée n'est sauvegardée

  // objet pour stocker les scores officiels
  const officialScores = JSON.parse(localStorage.getItem('officialScores') || '{}');

  // Restaurer le solde depuis localStorage au chargement de la page
  document.addEventListener('DOMContentLoaded', () => {
      const balanceEl = document.getElementById('solde');
      if (balanceEl) balanceEl.textContent = balance;
  });

  // Mettre à jour le solde
  function updateBalance() {
      const newBalance = Number(document.getElementById('adminBalance').value);
      if (!isNaN(newBalance) && newBalance >= 0) {
          balance = newBalance;
          const balanceEl = document.getElementById('solde');
          if (balanceEl) balanceEl.textContent = balance;

          // Sauvegarder le solde dans localStorage
          localStorage.setItem('userBalance', balance);

          alert("Solde mis à jour !");
      } else {
          alert("Entrez une valeur valide !");
      }
  }

  // Enregistrer un score officiel
  function setFinalScore() {
      const matchId = document.getElementById('matchSelect').value;
      const score = document.getElementById('finalScore').value.trim();

      if(!score.match(/^\d+-\d+$/)) {
          alert('Format invalide, exemple: 2-1');
          return;
      }

      officialScores[matchId] = score;
      localStorage.setItem('officialScores', JSON.stringify(officialScores));
      alert(`Score officiel de ${matchId} enregistré : ${score}`);
  }
  
  // Connexion admin
  document.getElementById('adminForm').addEventListener('submit', function(event){
    event.preventDefault(); // empêche le rechargement
    const user = document.getElementById('adminUser').value;
    const pass = document.getElementById('adminPass').value;
    const msg = document.getElementById('adminMessage');

    if(user === "admin" && pass === "admin123"){
      msg.style.color = "#00ff00";
      msg.textContent = "Connexion réussie !";
      document.getElementById('adminBox').style.display = 'none';
      document.getElementById('adminPanel').style.display = 'block';
      document.getElementById('adminBalance').value = balance;
      renderAdminHistory();
    } else {
      msg.style.color = "#ff3b3b";
      msg.textContent = "Identifiant ou mot de passe incorrect.";
    }
  });
  
  // Déconnexion
  function logoutAdmin(){
    document.getElementById('adminBox').style.display = 'block';
    document.getElementById('adminPanel').style.display = 'none';
    document.getElementById('adminMessage').textContent = '';
  }

  // Historique admin (avec suppression)
  function renderAdminHistory(){
    const container = document.getElementById('adminHistory');
    if(history.length===0){
      container.innerHTML = '<div style="color:#ccc">Aucun pari effectué</div>';
      return;
    }
    container.innerHTML = history.map((h, idx)=>{
      const sel = h.selections.map(s=>`${s.home} vs ${s.away} (${s.odd})`).join('<br>');
      return `<div style="border-bottom:1px solid #333; padding:8px 0">
                <div style="font-size:13px;color:#ccc">${h.date}</div>
                <div>Mise: ${h.stake} crédits — Potentiel: ${h.potential} crédits</div>
                <div style="font-size:13px; margin-top:4px">${sel}</div>
                <button class="remove-btn" onclick="removeBet(${idx})">Supprimer ce pari</button>
              </div>`;
    }).join('');
  }

  // Supprimer un pari
  function removeBet(idx){
    if(confirm("Supprimer ce pari ?")){
      history.splice(idx,1);
      renderAdminHistory();
      renderHistory(); // mise à jour côté utilisateur
    }
  }

  </script>

</body>
</html>
